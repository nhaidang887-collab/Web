<!DOCTYPE html><html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Tra cứu Thẻ Bài</title>
  <style>
    body {
      font-family: "Georgia", "Times New Roman", serif;
      margin: 0;
      padding: 16px;
      background: #2b2b2b;
      color: #1a1a1a;
    }
    h1 {
      text-align: center;
      margin-bottom: 16px;
      color: #f5e6b3;
      letter-spacing: 1px;
    }
    #search {
      width: 100%;
      padding: 14px;
      margin: 12px 0 24px;
      font-size: 16px;
      border-radius: 10px;
      border: none;
      outline: none;
    }
    #cards {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 20px;
    }
    .card {
      background: #f3d98b;
      border-radius: 14px;
      padding: 16px 18px 18px;
      box-shadow: inset 0 0 0 4px #1f1f1f, 0 6px 14px rgba(0,0,0,0.5);
      line-height: 1.6;
      min-height: 360px;
      display: flex;
      flex-direction: column;
    }
    .type {
      text-align: center;
      font-weight: bold;
      letter-spacing: 1px;
      margin-bottom: 12px;
      padding: 6px 0;
      border-radius: 8px;
      color: #1a1a1a;
    }
    .type.item {
      background: linear-gradient(#e07a2f, #f3d98b);
    }
    .type.omen {
      background: linear-gradient(#7fa35c, #f3d98b);
    }
    .type.event {
      background: linear-gradient(#e6c45a, #f3d98b);
    }
    .content {
      white-space: pre-line;
      font-size: 14px;
      flex: 1;
    }
  </style>
</head>
<body>
  <h1>Tra cứu Thẻ Bài</h1>  <input id="search" type="text" placeholder="Tìm kiếm tất cả thẻ bài..." />  <div id="cards">Đang tải dữ liệu...</div>  <script>
    const cardsDiv = document.getElementById('cards');
    const searchInput = document.getElementById('search');

    const folders = [
      { name: 'Vật phẩm', key: 'item', path: 'New Folder/item' },
      { name: 'Điềm báo', key: 'omen', path: 'New Folder/omen' },
      { name: 'Sự kiện', key: 'event', path: 'New Folder/event' }
    ];

    let allCards = [];

    async function loadAllCards() {
      allCards = [];
      cardsDiv.innerHTML = 'Đang tải dữ liệu...';

      for (const folder of folders) {
        for (let i = 0; i < 100; i++) {
          try {
            const res = await fetch(`${folder.path}/${i}.txt`);
            if (!res.ok) continue;
            const text = await res.text();
            allCards.push({ type: folder.name, key: folder.key, content: text });
          } catch (e) {}
        }
      }
      renderCards();
    }

    function renderCards() {
      const keyword = searchInput.value.toLowerCase();
      cardsDiv.innerHTML = '';

      allCards
        .filter(c => c.content.toLowerCase().includes(keyword))
        .forEach(card => {
          const div = document.createElement('div');
          div.className = 'card';

          const typeDiv = document.createElement('div');
          typeDiv.className = `type ${card.key}`;
          typeDiv.textContent = card.type;

          const contentDiv = document.createElement('div');
          contentDiv.className = 'content';
          contentDiv.textContent = card.content;

          div.appendChild(typeDiv);
          div.appendChild(contentDiv);
          cardsDiv.appendChild(div);
        });

      if (cardsDiv.innerHTML === '') {
        cardsDiv.innerHTML = 'Không tìm thấy thẻ bài phù hợp.';
      }
    }

    searchInput.addEventListener('input', renderCards);

    loadAllCards();
  </script></body>
</html>